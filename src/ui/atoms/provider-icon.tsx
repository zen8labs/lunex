import { Bot } from 'lucide-react';
import { cn } from '@/lib/utils';

interface ProviderIconProps {
  provider: string;
  className?: string;
}

const OpenAIIcon = ({ className }: { className?: string }) => (
  <svg
    viewBox="0 0 24 24"
    fill="currentColor"
    className={className}
    xmlns="http://www.w3.org/2000/svg"
  >
    <path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0843 7.6148-4.4211a.5221.5221 0 0 0 .2667-.452v-4.5002l2.6414 1.5151v4.9535A4.4563 4.4563 0 0 1 13.26 22.4292zm7.0604-4.24a4.4717 4.4717 0 0 1-3.2394 1.6371l-.0148-.1643-2.6189-4.542 3.9056-2.2519 2.6288 1.5244.0049.0028a.5262.5262 0 0 0 .3991.0263 4.4965 4.4965 0 0 1-1.0653 3.7676zm-1.5714-9.3106A4.4367 4.4367 0 0 1 20.937 10.38l-.1613.0934-7.6186 4.4172a.5244.5244 0 0 0-.2619.4561v4.5002L10.25 18.328v-4.9535a4.464 4.464 0 0 1 8.4983-4.4947zM4.9392 9.07a4.4717 4.4717 0 0 1 3.2394-1.6371l.0148.1643 2.6189 4.542-3.9056 2.2519-2.6288-1.5244-.0049-.0028a.5262.5262 0 0 0-.3991-.0263 4.4965 4.4965 0 0 1 1.0653-3.7676zm1.5714 9.3106a4.4367 4.4367 0 0 1-2.1883-1.5023l.1613-.0934 7.6186-4.4172a.5244.5244 0 0 0 .2619-.4561v-4.5002l2.6452 1.5191v4.9535a4.464 4.464 0 0 1-8.4987 4.4966zM7.38 5.7601a4.4755 4.4755 0 0 1 2.8764 1.0408l-.1419.0843-7.6148 4.4211a.5221.5221 0 0 0-.2667.452v4.5l-2.6414-1.5151V9.7897A4.4563 4.4563 0 0 1 7.38 5.7601zM11.968 15.1l-3.2105-1.8543v-3.7047l3.2105-1.8572 3.2105 1.8572v3.7047z" />
  </svg>
);

const OpenRouterIcon = ({ className }: { className?: string }) => (
  <svg
    width="512"
    height="512"
    viewBox="0 0 512 512"
    fill="currentColor"
    className={className}
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M3 248.945C18 248.945 76 236 106 219C136 202 136 202 198 158C276.497 102.293 332 120.945 423 120.945"
      stroke="currentColor"
      strokeWidth="90"
      fill="none"
    />
    <path
      d="M511 121.5L357.25 210.268L357.25 32.7324L511 121.5Z"
      fill="currentColor"
    />
    <path
      d="M0 249C15 249 73 261.945 103 278.945C133 295.945 133 295.945 195 339.945C273.497 395.652 329 377 420 377"
      stroke="currentColor"
      strokeWidth="90"
      fill="none"
    />
    <path
      d="M508 376.445L354.25 287.678L354.25 465.213L508 376.445Z"
      fill="currentColor"
    />
  </svg>
);

const DeepInfraIcon = ({ className }: { className?: string }) => (
  <svg
    viewBox="0 0 174 32"
    fill="currentColor"
    className={className}
    xmlns="http://www.w3.org/2000/svg"
  >
    <path d="M22.863 10.66a2.837 2.837 0 0 1-2.833-2.835 2.837 2.837 0 0 1 2.833-2.834 2.837 2.837 0 0 1 2.834 2.834 2.837 2.837 0 0 1-2.834 2.835Zm-10.015 0a2.837 2.837 0 0 1-2.833-2.835 2.837 2.837 0 0 1 2.833-2.834 2.837 2.837 0 0 1 2.833 2.834 2.837 2.837 0 0 1-2.833 2.835ZM2.833 10.66A2.837 2.837 0 0 1 0 7.825a2.837 2.837 0 0 1 2.833-2.834 2.837 2.837 0 0 1 2.834 2.834 2.837 2.837 0 0 1-2.834 2.835ZM32.723 5h4.63v1.89h-1.637v17.45h-1.355V6.89h-1.638V5Zm7.989 5.865h1.275v13.475h-1.275V10.865Zm0-2.809h1.275V9.41h-1.275V8.056Zm8.411 16.489h-1.356V14.15l-3.328 10.395h-1.12l-3.328-10.394v10.394h-1.355V10.865h1.86l3.385 10.8 3.383-10.8h1.859v13.68Zm2.6 0V15.7h1.61v6.983c0 1.25.617 1.863 1.85 1.863.633 0 1.137-.17 1.512-.51.375-.339.563-.847.563-1.524v-6.812h1.343v6.9c0 1.092-.294 1.94-.881 2.541-.587.602-1.433.903-2.537.903-1.077 0-1.921-.3-2.531-.903-.61-.602-.916-1.442-.916-2.518v-.078H45.28c.005.65.15 1.171.432 1.564.004.006.007.009.011.015Zm5.275-5.918h-4.96V14.55h4.864v-1.144h-4.864v-1.312h4.96v-1.229h-6.315v13.68h6.315v-1.229ZM67.086 5h1.435L64.25 24.545h-1.42L58.557 5h1.435l3.585 16.516L67.087 5Zm3.024 5.865h1.291l2.87 9.873 2.838-9.873h1.29l-3.523 11.536h-1.242l-3.524-11.536Zm7.404-.001h1.274v1.547l3.297-1.74h1.565l-3.153 1.621 3.427 4.258h-1.637l-2.71-3.46v3.46h-1.263V10.864Zm10.153 9.775c.44-.45.66-1.07.66-1.859V17h-4.47v1.782h3.097c-.01.376-.11.666-.299.87-.187.205-.515.307-.983.307-.58 0-1.018-.186-1.314-.557-.296-.37-.443-.914-.443-1.633v-1.847c0-.756.142-1.314.427-1.673.285-.36.72-.538 1.306-.538.51 0 .906.144 1.186.434.28.29.435.698.467 1.222h1.339a3.3 3.3 0 0 0-1.016-2.399c-.542-.56-1.201-.84-1.976-.84-.963 0-1.722.308-2.278.924-.556.615-.834 1.534-.834 2.754v2.105c0 1.181.282 2.083.847 2.705.564.623 1.32.934 2.265.934.823.001 1.488-.27 1.996-.814l.023-.026Zm4.512-9.776h1.274v2.798c.027-1.03.355-1.815.984-2.355.63-.54 1.422-.81 2.379-.81v1.387c-.882 0-1.608.288-2.178.863-.57.575-.855 1.36-.855 2.355v7.228H92.18V10.863ZM110.19 12h-1.323v1.355h1.323V12Zm0 3.306h-1.323v8.032h1.323v-8.032Zm-4.943-4.37h5.927v1.89h-2.097v10.512h-1.734V12.825h-2.096V10.936Z" />
  </svg>
);

export function ProviderIcon({ provider, className }: ProviderIconProps) {
  const p = provider.toLowerCase();

  const iconClasses = cn('size-5 object-contain', className);

  // Use GitHub avatars for consistent, high-quality logos for dev tools
  const logoUrls: Record<string, string> = {
    vllm: 'https://avatars.githubusercontent.com/u/125530006?s=200&v=4',
    ollama: 'https://avatars.githubusercontent.com/u/137683416?s=200&v=4',
    litellm: 'https://avatars.githubusercontent.com/u/139369324?s=200&v=4',
    fireworks: 'https://avatars.githubusercontent.com/u/116278553?s=200&v=4',
    groq: 'https://avatars.githubusercontent.com/u/97302484?s=200&v=4',
    together: 'https://avatars.githubusercontent.com/u/126601490?s=200&v=4',
  };

  switch (p) {
    case 'openai':
      return <OpenAIIcon className={iconClasses} />;
    case 'vllm':
    case 'ollama':
    case 'litellm':
    case 'fireworks':
    case 'groq':
    case 'together':
      if (logoUrls[p]) {
        return (
          <img
            src={logoUrls[p]}
            alt={provider}
            className={cn('rounded-sm', iconClasses)}
          />
        );
      }
      return <Bot className={iconClasses} />;
    case 'openrouter':
      return <OpenRouterIcon className={iconClasses} />;
    case 'deepinfra':
      return <DeepInfraIcon className={iconClasses} />;
    default:
      return <Bot className={iconClasses} />;
  }
}
